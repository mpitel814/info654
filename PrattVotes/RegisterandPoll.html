
<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- necessary! -->
	<link rel="stylesheet" type="text/css" href="PrattVotesCSS.css"> 
<html>
  <script>
    async function onClickSubmit(){
        var zipcode = document.getElementById("zipcode").value;
        var resultsDiv = document.getElementById("results");

        if(zipcode === ""){
          resultsDiv.innerHTML = "Please enter a valid New York City zipcode.";
          return;
        }

        if(zipcode.trim() === ""){
          resultsDiv.innerHTML = "Please enter a valid New York City zipcode.";
          return;
        }
        if(zipcode.length != 5||isNaN(zipcode)){
           resultsDiv.innerHTML = zipcode + " is not a valid New York City zipcode.";
            return;
        }

        var url = `https://data.cityofnewyork.us/api/v3/views/mifw-tguq/query.json?pageNumber=1&pageSize=10&app_token=nEaDvAKzMfwRCF5MRJcY3MUpC&query=SELECT%20*%20WHERE%20%60zip_code%60%3D%27${zipcode}%27`
        var response = await fetch(url);
        var jsonData = await response.json();
    

        resultsDiv.innerHTML = "";
        if(jsonData.length == 0){
            resultsDiv.innerHTML += zipcode + " is not a valid New York City zipcode. Please try again!" 
        }
        else 
        for(var i = 0; i < jsonData.length; i++){
            resultsDiv.innerHTML += jsonData[i].site_name + "<br>";
            resultsDiv.innerHTML += jsonData[i].street_number + " " + jsonData[i].street_name + "<br>";
            resultsDiv.innerHTML += jsonData[i].city + ", " +jsonData[i].zip_code + "<br><br>";
        }
    }
    </script>

<body>
<header>
    <nav>
      <img src="logo.png" class="header_image"></div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="RegisterandPoll.html">How to Register & Poll Locator</a></li>
        <li><a href="artportfolio.html">Early Voting &  Affidavits</a></li>
        <li><a href="favoritebooks.html">Incoming Administration</a></li>
        <li><a href="favoritebooks.html">Know Your Rights</a></li>
        <li><a href="resume.html">FAQ</a></li>
      </ul>
    </nav>
  </header>

<div class="registration">
  <h1> How to Register</h1>  
  <h3> New York City residents can register to vote online, in-person, or by mail.</h3>

  <table class="registration_table">
    <tr>
      <td> <a href="https://e-register.vote.nyc/" target="_blank"><img src="computer.png" class="table_image"> </a></td>
      <td> <a href="https://voterreg.dmv.ny.gov/motorvoter/" target="_blank"><img src="DMV.png" class="table_image"> </a></td>
      <td> <a href="RegisterbyMail.html" target="_blank"><img src= "envelope.png" class="table_image"> </a></td>
      <td> <a href="https://vote.nyc/page/contact-us" target="_blank"><img src= "form.png" class="table_image"></a></td>
  </tr>
   
  <tr>
    <td><a href="https://e-register.vote.nyc/" class="reg_button" target="_blank"> Register Online </a> </td>
    <td><a href="https://voterreg.dmv.ny.gov/motorvoter/" class="reg_button" target="_blank"> Register Online via DMV </a> </td>
    <td><a href="RegisterbyMail.html" class="reg_button" target="_blank"> Register by Mail </a></td>
    <td><a href="https://vote.nyc/page/contact-us" class="reg_button" target="_blank"> Register In-Person </a> </td>
  </tr>

</table>

<table class="registration_table">
  <tr>
    <td> <a href="https://amiregistered.vote.nyc/" class="check_button" target="_blank"> Am I Registered? </a> </td>
  </tr> 
</table>
</div>
<br>
<hr>

<div class ="poll_locator"> 
  <h1>Poll Site Locator</h1>
  <h3>Please Enter a Valid NYC Zipcode</h3>
  <br>
  <input type="text" id="zipcode" name="zipcode" placeholder="e.g., 10011" required size="10">
  <button type="button" id="submit" onclick="onClickSubmit()">submit</button>
  <br><br>
  <div id="results"></div>
</div>
<br><br>
<footer>
  <p> Info 654 - Fall 2025</p>
</footer>
</body>
</html>

